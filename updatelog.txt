# Mouse4 版本更新日志

## 📅 2026-01-05 更新阶段 (今日)

### V40.0 (最终版)
- **UI 美化**：新增自动圆角裁剪算法。
- **图标优化**：实现 `logo.ico` 在托盘显示时自动变为圆形，且支持打包命令将图标内置。

### V39.0
- **高清修复**：引入像素密度比 (DPR) 计算，修复 2K/4K 高分屏缩放下截图尺寸偏小的问题。
- **层级修复**：截图窗口改为 `showFullScreen`，强制覆盖任务栏，解决无法截取任务栏的问题。

### V38.0
- **极简版**：移除“设置双击速度”功能及菜单入口。
- **菜单精简**：托盘菜单仅保留：GitHub、右键管理、退出。

### V37.0
- **功能调整**：移除热键设置功能，截图热键固定为 `Ctrl+1`。

### V36.0
- **尝试**：新增按键录制窗口（*后因需求变更撤销*）。

### V35.0
- **打包修复**：增加 `resource_path` 资源定位函数。
- **Bug 修复**：解决打包为单文件 (`-F`) 后，托盘图标无法读取导致显示默认图标的问题。

### V34.0
- **核心修复**：重写 `RegistryManager`，增加 EXE 环境判断 (`sys.frozen`)。
- **Bug 修复**：解决打包后右键菜单找不到程序路径导致功能失效的问题。

### V33.0
- **文案修正**：统一菜单术语（“设置截图热键”、“设置返回上一层文件夹双击速度”）。

### V32.0
- **新增**：托盘菜单增加“访问 GitHub 主页”选项。
- **依赖**：引入 `webbrowser` 模块。

### V31.0
- **体验优化**：移除右键存图成功后的弹窗提示，实现“静默保存”。

### V30.0
- **功能找回**：恢复丢失的“设置双击速度”功能及托盘入口。
- **优化**：优化托盘菜单结构。

### V29.0
- **基准修复**：修复注册表写入权限问题，解决右键菜单偶尔失效的 Bug。

---

## 🕰️ 早期开发阶段 (V1 - V28)

### V25.0 - V28.0
- **功能完善**：完善右键菜单逻辑，增加 `--paste` 启动参数。
- **调试**：增加诊断弹窗（用于调试剪贴板读取失败等问题）。

### V22.0
- **框架重构**：GUI 框架从 `tkinter`/`pystray` 全面迁移至 **PyQt6**。
- **UI**：界面美化，增加半透明遮罩效果。

### V20.0
- **新增功能**：初步尝试“右键菜单”集成。
- **核心**：编写注册表写入逻辑，支持右键调用脚本。

### V15.0
- **核心升级**：截图引擎从 `PIL` 迁移至 `mss`，支持多显示器截图。

### V11.0 - V14.0
- **新增功能**：集成截图模块。
- **支持**：添加默认截图快捷键支持。

### V10.0
- **UI 重构**：移除 CMD 黑框运行模式。
- **核心**：加入系统托盘图标（Tray Icon），程序最小化到后台运行。

### V5.0 - V9.0
- **智能识别**：引入 `UIAutomation` 库，实现“空白处”智能识别，防止双击文件时触发返回。
- **配置**：增加 `config.json` 配置文件支持。

### V2.0 - V4.0
- **优化**：优化双击判定逻辑，解决单击误触问题。
- **限制**：引入 `is_explorer_window` 判断，限制仅在资源管理器生效。

### V1.0
- **项目初始化**。
- **基础功能**：监听鼠标左键双击。
- **核心逻辑**：发送 `Alt+Up` 模拟返回上一级。